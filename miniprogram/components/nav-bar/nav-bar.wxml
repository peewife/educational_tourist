<!--components/nav-bar/nav-bar.wxml-->
<view 
  class="nav-bar {{fixed ? 'nav-bar--fixed' : ''}} {{border ? 'nav-bar--border' : ''}}"
  style="background: {{background}}; padding-top: {{statusBarHeight}}px;"
>
  <!-- 状态栏占位 -->
  <view class="nav-bar__status" style="height: {{statusBarHeight}}px;"></view>
  
  <!-- 导航栏内容 -->
  <view class="nav-bar__content" style="height: {{navBarHeight}}px;">
    <!-- 左侧区域 -->
    <view class="nav-bar__left">
      <!-- 返回按钮 -->
      <view 
        wx:if="{{showBack}}" 
        class="nav-bar__back"
        bindtap="handleBack"
      >
        <view class="nav-bar__back-icon">
          <view class="back-arrow"></view>
        </view>
      </view>
      <!-- 左侧插槽 -->
      <slot name="left"></slot>
    </view>
    
    <!-- 标题区域 -->
    <view class="nav-bar__title">
      <text wx:if="{{title}}" class="nav-bar__title-text font-serif">{{title}}</text>
      <slot name="title"></slot>
    </view>
    
    <!-- 右侧区域（胶囊按钮占位） -->
    <view 
      class="nav-bar__right" 
      style="width: {{capsuleWidth + capsuleRight}}px;"
    >
      <slot name="right"></slot>
    </view>
  </view>
</view>

<!-- 占位元素（fixed定位时使用） -->
<view 
  wx:if="{{fixed}}" 
  class="nav-bar__placeholder"
  style="height: {{statusBarHeight + navBarHeight}}px;"
></view>
